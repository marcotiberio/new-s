<flynt-component
  load:on="idle" name="SliderBox"
  class="pb-0 lg:pb-xl overflow-hidden"
  style="
    color: {% if options.colorText %}{{ options.colorText }}{% else %}var(--black){% endif %};
    background-color: {% if options.colorBackground %}{{ options.colorBackground }}{% else %}transparent{% endif %};"
  >
  <script type="application/json">{{ jsonData|json_encode }}</script>
  <div class="wrapper w-screen mx-auto boxed">
    <div class="w-full max-w-screen-max mx-auto flex flex-col md:flex-row {% if buttonLink %} justify-between {% else %} justify-start {% endif %} items-center gap-sm md:gap-xxl">
      {% if title %}
        <div class="h2 w-full max-w-[450px]">{{ title }}</div>
      {% endif %}
      {% if contentHtml %}
        <div class="wysiwyg [&_*]:mb-0 w-full max-w-[450px]">{{ contentHtml|e('wp_kses_post') }}</div>
      {% endif %}
      {% if buttonLink %}
        <a 
          class="button button--outline" 
          href="{{ buttonLink.url }}" 
          {% if buttonLink.target %} target="{{ buttonLink.target }}" rel="noreferrer noopener"{% endif %}>
          {{ buttonLink.title }}
        </a>
      {% endif %}
    </div>

    <div data-ref="slider" class="slider swiper-container mt-lg">
      {# <div class="button-wrapper absolute right-sm xs:right-0 flex align-middle justify-end z-50 translate-y-[18px] xs:-translate-y-[45px] lg:-translate-y-[60px]">
        <button type="button" data-ref="prev" class="slider-button slider-button--prev">
          <svg width="40" height="30" viewBox="0 0 40 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path class="fill-white xs:fill-black" d="M3.93801 13.9393C3.35222 14.5251 3.35222 15.4749 3.93801 16.0607L13.4839 25.6066C14.0697 26.1924 15.0195 26.1924 15.6053 25.6066C16.1911 25.0208 16.1911 24.0711 15.6053 23.4853L7.11999 15L15.6053 6.51472C16.1911 5.92893 16.1911 4.97918 15.6053 4.3934C15.0195 3.80761 14.0697 3.80761 13.484 4.3934L3.93801 13.9393ZM34.3438 13.5L4.99867 13.5L4.99867 16.5L34.3437 16.5L34.3438 13.5Z"/>
          </svg>
        </button>
        <button type="button" data-ref="next" class="slider-button slider-button--next">
          <svg class="transform scale-x-[-1]" width="40" height="30" viewbox="0 0 40 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path class="fill-white xs:fill-black" d="M3.93801 13.9393C3.35222 14.5251 3.35222 15.4749 3.93801 16.0607L13.4839 25.6066C14.0697 26.1924 15.0195 26.1924 15.6053 25.6066C16.1911 25.0208 16.1911 24.0711 15.6053 23.4853L7.11999 15L15.6053 6.51472C16.1911 5.92893 16.1911 4.97918 15.6053 4.3934C15.0195 3.80761 14.0697 3.80761 13.484 4.3934L3.93801 13.9393ZM34.3438 13.5L4.99867 13.5L4.99867 16.5L34.3437 16.5L34.3438 13.5Z"/>
          </svg>
        </button>
      </div> #}
      <div data-ref="dots" class="flex justify-center absolute !bottom-[-10px] lg:!bottom-[-20px] z-[40] slider-pagination swiper-pagination-fraction"></div>
      <div class="swiper-wrapper flex flex-row">
        {% for box in boxes %}
          <div 
            class="slider-item swiper-slide relative w-full h-full sm:min-h-[600px] flex flex-col justify-between sm:justify-between border-2"
            style="background-color: {% if box.colorBackground %}{{ box.colorBackground }}{% else %}var(--secondary){% endif %};">
            <div>
              {% if box.image %}
                <div class="p-sm">
                  <img class="logo lazyload w-full aspect-square object-cover"
                  src="{{ box.image.src | resize(32) }}"
                  data-srcset="{{function('wp_get_attachment_image_srcset', box.image.id)}}"
                  data-sizes="auto">
                </div>
              {% endif %}
              <div class="py-xs px-sm flex flex-col gap-xs">
                {% if box.title %}
                  <h3 class="">{{ box.title }}</h3>
                {% endif %}
                {% if box.text %}
                  <div class="">{{ box.text }}</div>
                {% endif %}
              </div>
            </div>
            <div class="py-xs px-sm">
              {% if box.buttonLink %}
                <a 
                  class="button button--outline" 
                  href="{{ box.buttonLink.url }}" 
                  {% if box.buttonLink.target %} target="{{ box.buttonLink.target }}" rel="noreferrer noopener"{% endif %}>
                  {{ box.buttonLink.title }}
                </a>
              {% endif %}
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</flynt-component>
