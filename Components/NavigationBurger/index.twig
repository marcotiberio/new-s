<flynt-component 
  load:on="idle"
  {# client:media="(max-width: 1023px)" #}
  name="NavigationBurger"
  class="block lg:hidden fixed top-0 left-0 w-screen z-50 flex-row justify-between mx-auto {% if post.pageBackgroundCustom %}{{ post.pageBackgroundCustom }}{% else %}bg-white{% endif %}">
  <nav aria-label="{{ labels.ariaLabel|e }}" class="h-auto w-full">
    <div class="w-full h-auto max-w-screen-max mx-auto !py-xs boxed grid grid-cols-2 lg:gap-sm align-middle items-center z-50 relative">
      {% include 'Partials/_logo.twig' with { 'logo': logo, 'site': site } only %}
      {% if menu %}
        <div class="flex justify-end items-center">
          {% include 'Partials/_hamburger.twig' with { 'labels': labels } only %}
        </div>
      {% endif %}
    </div>
    {% if menu %}
      <div
        data-ref="menu" 
        class="menu w-full h-screen !pt-[50px] z-40 relative {% if post.pageBackgroundCustom %}{{ post.pageBackgroundCustom }}{% else %}bg-white{% endif %}">
        <ul class="w-full h-full max-w-screen-max mx-auto flex flex-col justify-start items-start gap-xs px-xs py-lg">
          {% for item in menu.items %}
            {# regular menu item #}
            {% if not item.children %}
              <li class="item {{- item.current ? ' current-menu-item text-orangeHover' }}">
                <a class="link font-menu" href="{{ item.link }}" {{ item.target == '_blank' ? 'target="_blank" rel="noopener noreferrer"' }}>
                  {{ item.title }}
                </a>
              </li>
            {% endif %}
            {# menu with submenu item #}
            {% if item.children %}
              <li class="item open-submenu {{- item.current ? ' current-menu-item text-orangeHover' }}" >
                <a class="link font-menu" href="{{ item.link }}" {{ item.target == '_blank' ? 'target="_blank" rel="noopener noreferrer"' }}>
                  {{ item.title }}
                </a>
                <ul class="submenu">
                  {% for subitem in item.children %}
                    <li class="item {{- subitem.current ? ' current-menu-item text-orangeHover' }}">
                      <a class="link !p-0 font-menu" href="{{ subitem.link }}" {{ subitem.target == '_blank' ? 'target="_blank" rel="noopener noreferrer"' }}>{{ subitem.title }}</a>
                    </li>
                  {% endfor %}
                </ul>
              </li>
            {% endif %}
          {% endfor %}
          
          {# Language Menu in Main Area #}
          {% if showLanguageMenu and languageMenuPosition == 'main' and languageMenu %}
            <li class="item language-menu-item border-t w-full pt-xs mt-sm">
              <div class="flex flex-col gap-xs">
                <span class="text-sm text-gray-600 font-menu">Language</span>
                <div class="flex flex-col gap-xs">
                  {% for languageItem in languageMenu.items %}
                    <a class="link font-menu text-sm" href="{{ languageItem.link }}" {{ languageItem.target == '_blank' ? 'target="_blank" rel="noopener noreferrer"' }}>
                      {{ languageItem.title }}
                    </a>
                  {% endfor %}
                </div>
              </div>
            </li>
          {% endif %}
        </ul>

        {# Footer Links Section #}
          <div class="w-full px-xs">
            <div class="flex !px-0 py-sm border-t justify-between items-start">
              <div class="flex flex-col gap-xs">
                {% for footerLink in footerLinks %}
                  {% if footerLink.menuLink %}
                    <a 
                      class="" 
                      href="{{ footerLink.menuLink.url }}" 
                      {% if footerLink.menuLink.target %} target="{{ footerLink.menuLink.target }}" rel="noreferrer noopener"{% endif %}>
                      {{ footerLink.menuLink.title }}
                    </a>
                  {% endif %}
                {% endfor %}
              </div>
              
              <div class="language-selector flex gap-xs">
                {% if showLanguageMenu and languageMenuPosition == 'footer' and languageMenu %}
                  {# Language Menu from WordPress Menu #}
                  {% for languageItem in languageMenu.items %}
                    <li class="item hover:text-orangeHover {{ item.classes|join(' ') }} {{- item.current ? ' text-white' }}" >
                      <a class="font-menuFooter" href="{{ languageItem.link }}" {{ languageItem.target == '_blank' ? 'target="_blank" rel="noopener noreferrer"' }}>
                        {{ languageItem.title }}
                      </a>
                    </li>
                  {% endfor %}
                {% endif %}
              </div>
            </div>
          </div>
      </div>
    {% endif %}
  </nav>
</flynt-component>
