(function(e){const t=function(){return new acf.Model({wait:"ready",initialize:function(){const n=e('[data-layout="blockAnchor"]:not(.acf-clone)');n.length>0&&n.find("input[name*=blockAnchor_anchor]").each(function(a,l){const d=e(l);r(d,d.val())})}})},s=function(n,a){a.closest('[data-layout="blockAnchor"]:not(.acf-clone)').length>0&&r(e(n.currentTarget),a.val())},r=function(n,a){const d=n.closest('[data-layout="blockAnchor"]:not(.acf-clone)').find(".anchorLink-url");if(d){const u=d.data("href");a=o(a);const p=`${u}#${a}`;d.text(p)}},o=function(n){return n=n.replace(/[^A-Za-z0-9]/g,"-").toLowerCase(),n},c=function(n,a){n.preventDefault();const l=a.closest('[data-layout="blockAnchor"]:not(.acf-clone)');if(l.length>0){const d=l.find(".anchorLink-url"),u=l.find(".anchorLink-message");navigator.clipboard?navigator.clipboard.writeText(d.text()).then(function(){u.show().delay(5e3).hide("fast")}).catch(function(){alert("Oops! Something went wrong...")}):document.execCommand("copy")}},i=function(){return new acf.Model({events:{"keyup input[name*=blockAnchor_anchor]":"onChangeText","click [data-copy-anchor-link]":"copyToClipboard"},onChangeText:s,copyToClipboard:c})};typeof acf<"u"&&(t(),i())})(jQuery);document.addEventListener("mouseenter",e=>{const{target:t}=e;if(typeof t=="object"&&t!==null&&"getAttribute"in t&&t.matches("a[data-layout]")){const s=t.dataset.layout;f(s,t)}},!0);document.addEventListener("mouseleave",e=>{const{target:t}=e;typeof t=="object"&&t!==null&&"getAttribute"in t&&t.matches("a[data-layout]")&&h(t)},!0);function f(e,t){const s=m(e),r=`${FlyntData.templateDirectoryUri}/${FeatureFlexibleContentExtension.components[s]}/screenshot.png`,o=document.createElement("div");o.classList.add("flyntComponentScreenshot-imageWrapper"),t.append(o);const c=document.createElement("img");c.classList.add("flyntComponentScreenshot-previewImageLarge"),c.src=r,o.prepend(c)}function h(e){e.querySelector(".flyntComponentScreenshot-imageWrapper").remove()}function m(e){return e.substr(0,1).toUpperCase()+e.substr(1)}if(window.acf){const e=window.acf.Model.extend({wait:"ready",events:{'click [data-name="add-layout"]':"onClick"},initialize:function(){document.body.addEventListener("click",t=>{t.target.classList.contains("flyntComponentSearch-field")&&t.stopPropagation()},!1)},onClick:function(t,s){document.querySelectorAll(".acf-fc-popup").forEach(o=>{const c=o.classList.contains("top")?"top":"bottom";if(this.render(o,c),o.classList.contains("top")){const i=s[0],n=i.getBoundingClientRect().bottom,a=i.getBoundingClientRect().height,l=window.innerHeight-window.scrollY-n+a+10;o.style.top="auto",o.style.bottom=`${l}px`}})},render:function(t,s){const{placeholder:r,noResults:o}=window.FeatureFlexibleContentExtension.labels;if(t.querySelector(".flyntComponentSearch"))return;t.insertAdjacentHTML(s==="top"?"beforeend":"afterbegin",`<div class="flyntComponentSearch">
          <input type="search" placeholder="${r}" class="flyntComponentSearch-field">
          <div class="flyntComponentSearch-noResults" hidden>${o}</div>
        </div>`);const c=t.querySelector(".flyntComponentSearch-field"),i=t.querySelector(".flyntComponentSearch-noResults"),n=t.querySelectorAll("ul li");c.focus(),c.addEventListener("input",a=>{const l=a.target.value.toLowerCase().split(" ").filter(u=>u),d=this.filterComponents(l,n);i.toggleAttribute("hidden",d)})},filterComponents:function(t,s){const r=[];return s.forEach(o=>{const c=o.innerText.toLowerCase(),i=t.every(n=>c.indexOf(n)>-1);o.style.display=i?null:"none",i&&r.push(i)}),r.length>0}});new e}function g(){document.addEventListener("mouseenter",e=>{const{target:t}=e;if(typeof t=="object"&&t!==null&&"getAttribute"in t&&t.matches("a[data-layout]")){const s=t.dataset.layout;y(s,t)}},!0),document.addEventListener("mouseleave",e=>{const{target:t}=e;typeof t=="object"&&t!==null&&"getAttribute"in t&&t.matches("a[data-layout]")&&C(t)},!0)}function y(e,t){const s=b(e),r=`${FlyntData.templateDirectoryUri}/${FlyntComponentScreenshots.components[s]}/screenshot.png`,o=document.createElement("div");o.classList.add("flyntComponentScreenshot-imageWrapper"),t.append(o);const c=document.createElement("img");c.classList.add("flyntComponentScreenshot-previewImageLarge"),c.src=r,o.prepend(c)}function C(e){e.querySelector(".flyntComponentScreenshot-imageWrapper").remove()}function b(e){return e.substr(0,1).toUpperCase()+e.substr(1)}g();(function(e){const t=function(){acf.addAction("select2_init",function(r,o,c,i){const n=i.$el;n.data("name")==="reusableComponent"&&(acf.addAction("change",function(a){a.closest('[data-name="reusableComponent"]').length&&s(a,n)}),r.on("change",function(){s(e(this),n)}))})};function s(r,o){const c=r.val(),i=r.find("option:selected").text(),n=o.find(".reusable-postLink"),a=n.attr("data-postId"),l=o.find("[hidden]"),d=n.attr("href");console.log("Select changed:",{postId:c,postTitle:i,oldPostId:a}),c&&i&&(l.removeAttr("hidden"),n.text(i),n.attr("data-postId",c),d&&a&&n.attr("href",d.replace(a,c)))}typeof acf<"u"&&t()})(jQuery);
